<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../jacoco-resources/report.gif" type="image/gif"/><title>DbUtil.java</title><link rel="stylesheet" href="../../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">TimeLine (Jan 7, 2019 4:25:28 PM)</a> &gt; <a href="../../index.html" class="el_group">TimeLine</a> &gt; <a href="../index.html" class="el_bundle">src</a> &gt; <a href="index.source.html" class="el_package">util</a> &gt; <span class="el_source">DbUtil.java</span></div><h1>DbUtil.java</h1><pre class="source lang-java linenums">package util;

import java.sql.SQLException;
import java.sql.Connection;

/**
 * @author Shashaliu
 * @date 2018/12/23
 */
public class DbUtil {
<span class="fc" id="L11">	private Connection conn = null;</span>
<span class="fc" id="L12">	private String user= &quot;root&quot;;</span>
<span class="fc" id="L13">	private String password = &quot;12345678&quot;;</span>
<span class="fc" id="L14">	private String url = &quot;jdbc:mysql://127.0.0.1:3306/mydatabase?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false&amp;&amp;allowPublicKeyRetrieval=true&quot;;</span>
	
<span class="fc" id="L16">	public DbUtil()</span>
	  {
<span class="fc" id="L18">		bulidConnection();</span>
<span class="fc" id="L19">	  }</span>

	  private void bulidConnection()
	  {
	    try
	    {
<span class="fc" id="L25">	       Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span>
<span class="fc" id="L26">	       java.sql.DriverManager.registerDriver(new com.mysql.jdbc.Driver());</span>
<span class="fc" id="L27">	       conn=java.sql.DriverManager.getConnection(getEncryptedUrl(),getEncryptedUser(),getEncryptedPass());</span>
<span class="fc" id="L28">	    }</span>
	    
<span class="nc" id="L30">	    catch (Exception ex) {</span>
<span class="nc" id="L31">	      System.out.println(ex.toString());</span>
	   
	    }
<span class="fc" id="L34">	  }</span>

	  public Connection getConnection()
	  {
<span class="fc" id="L38">	    return conn;</span>
	  }

	  public void close()
	  {
	    try
	    {
<span class="fc" id="L45">	      this.conn.close();</span>
<span class="fc" id="L46">	      this.conn = null;</span>
<span class="fc" id="L47">	    }</span>
<span class="nc" id="L48">	    catch (SQLException ex)</span>
	    {
<span class="nc" id="L50">	    System.out.println(ex.toString());</span>
	    }
<span class="fc" id="L52">	  }</span>
	  
	  private String getEncryptedUrl()
	  {
<span class="fc" id="L56">		  return url;</span>
	  }
	  private String getEncryptedUser()
	  {
<span class="fc" id="L60">		  return user;</span>
	  }
	  
	  private String getEncryptedPass()
	  {
<span class="fc" id="L65">		  return password;</span>
	  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.1.201803210924</span>TimeLine (Jan 7, 2019 4:25:28 PM)</div></body></html>